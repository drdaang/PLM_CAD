<div class="part-details-container">

  <!-- FILE VIEWER -->
   @if(this.part().original_filename){

    <div class="file-viewer-card">

      <div class="file-header">
        <span class="file-name">{{ part()?.original_filename }}</span>
        <a [href]="fileUrl" target="_blank" class="download-link">
          Download CAD File
        </a>
      </div>

      <!-- PDF / Image viewer -->
      <ng-container *ngIf="isPdf(part()?.original_filename); else imageViewer">
        <iframe class="file-viewer" [src]="fileUrl | safeUrl" title="Part File Viewer">
        </iframe>
      </ng-container>

      <ng-template #imageViewer>
        <img [src]="fileUrl" class="file-viewer-image" />
      </ng-template>
    </div>

}

  <!-- PART DETAILS -->
  <div class="details-card">
    <h2>{{ part()?.name }}</h2>
    <span class="revision">Revision {{ part()?.revision }}</span>

    <div class="grid">
      <div>
        <label>Part ID</label>
        <span>{{ part()?.part_id }}</span>
      </div>

      <div>
        <label>Revision ID</label>
        <span>{{ part()?.id }}</span>
      </div>

      <div>
        <label>Created By (ID)</label>
        <span>{{ part()?.created_by }}</span>
      </div>

      <div>
        <label>Created By (Email)</label>
        <span>{{ part()?.created_by_email }}</span>
      </div>

      <div>
        <label>Created By (Username)</label>
        <span>{{ part()?.created_by_username }}</span>
      </div>

      <div>
        <label>Created At</label>
        <span>{{ part()?.created_at }}</span>
      </div>
    </div>

    <div class="description">
      {{ part()?.description || 'No description provided' }}
    </div>
  </div>

</div>
